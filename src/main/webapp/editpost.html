<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>Edit Post</title>
</head>
<body>
<h2>Edit Post</h2>
<div id="post_id"></div>
<form>
    <input type="hidden" name="_method" value="put">
    <label for="title">Title: </label><input type="text" id="title" value=""/><br>
    <label for="contain">Contain: </label><input type="text" id="contain" value=""/><br>
    <label for="user_id">User id: </label><input type="number" id="user_id" value=""/><br>
    <input type="button" value="submit" id="sender">
</form>
<script>
    var urlParams = new URLSearchParams(window.location.search);
    var id = urlParams.get('id');
    var title = urlParams.get('title');
    var contain = urlParams.get('contain');
    document.getElementById('post_id').innerText = 'Post id ' + id;
    document.getElementById('title').setAttribute('value', title);
    document.getElementById('contain').setAttribute('value', contain);

    $('#sender').click(function(){
        var title=document.getElementById('title').value;
        var contain=document.getElementById('contain').value;
        var user_id=document.getElementById('user_id').value;
        var post={"title":title, "contain":contain, "user":{"id":user_id}};
        var postData = JSON.stringify(post);
        var page="posts/" + id;

        $.ajax({
            type:"put",
            url:page,
            data:postData,
            dataType:"json",
            contentType:"application/json;charset=UTF-8",
            success:function (result){}
        });
        alert("New post created");
    });
</script>


</body>
</html>